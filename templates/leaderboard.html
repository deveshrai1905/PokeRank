{% extends 'layout.html' %}

{% block content %}
<h2>Pok√©mon Leaderboard</h2>
<ol start="{{ (page - 1) * per_page + 1 }}">
    {% for pokemon in pokemon_list %}
    <li>
        <img src="{{ pokemon.image_url }}" alt="{{ pokemon.name }}" width="50">
        {{ pokemon.name }} - Rating: {{ "%.2f"|format(pokemon.elo_rating) }}
    </li>
    {% endfor %}
</ol>

<!-- Pagination Controls -->
<div class="pagination">
    {% if page > 1 %}
    <a href="{{ url_for('leaderboard', page=1) }}">&laquo; First</a>
    <a href="{{ url_for('leaderboard', page=page - 1) }}">&lt; Prev</a>
    {% endif %}

    {% for p in page_numbers %}
        {% if p == '...' %}
            <span>{{ p }}</span>
        {% elif p == page %}
            <span class="current">{{ p }}</span>
        {% else %}
            <a href="{{ url_for('leaderboard', page=p) }}">{{ p }}</a>
        {% endif %}
    {% endfor %}

    {% if page < total_pages %}
    <a href="{{ url_for('leaderboard', page=page + 1) }}">Next &gt;</a>
    <a href="{{ url_for('leaderboard', page=total_pages) }}">Last &raquo;</a>
    {% endif %}
</div>
{% endblock %}